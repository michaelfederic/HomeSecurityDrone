<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sensor Data</title>
        <script language = "javascript" type = "text/javascript">
            var wsUri = "ws://10.0.0.49/ws";
            var output;
      
            function init() {
               output = document.getElementById("output");
               testWebSocket();
            }
      
            function testWebSocket() {
               websocket = new WebSocket(wsUri);
      
               websocket.onopen = function(evt) {
                  onOpen(evt)
               };
            }
      
            function onOpen(evt) {
                window.addEventListener('deviceorientation',(e)=>{
                    var  data = {
                        "alpha: ": `${e.alpha}`,
                        "beta: ": `${e.beta}`,
                        "gamma: ": `${e.gamma}`
                    }
                document.getElementById("alpha").textContent=`Alpha: ${e.alpha}`;
                document.getElementById("beta").textContent=`Beta: ${e.beta}`;
                document.getElementById("gamma").textContent=`Gamma: ${e.gamma}`;
                websocket.send(JSON.stringify(data));
            })
            }
      
            window.addEventListener("load", init, false);
      
         </script>
    </head>
    <body>
        <h1>Home Drone Security</h1>
        <p id="alpha"></p>
        <p id="beta"></p>
        <p id="gamma"></p>
        <div id="output"></div>
        <img src="" alt="">
    </body>
</html>
